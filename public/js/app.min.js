var app=angular.module("lightangular",["ui.bootstrap.progressbar"]);app.controller("mainCtrl",["$scope","$timeout","$http",function(a,b,c){a.dynamic=0,a.duration=2e3,a.interval=200,a.max=parseInt(a.duration/a.interval);var d;a.progress=function(){a.dynamic++;var c=parseInt(100*(a.dynamic/a.max));c>100&&(c=100),a.percent_lsj=c,a.progMsg="Progress"+c+"%",d=b(function(){a.progress()},a.interval),a.dynamic>=a.max&&(a.progMsg="The task is 100% completed",a.stop())},a.startProgress=function(){a.dynamic=1e-4,d=b(function(){a.progress()},a.interval)},a.restart=function(){$(".progress-bar").removeAttr("style"),$("#myModal").modal("show")},a.stop=function(){b.cancel(d)},$("#myModal").on("shown.bs.modal",function(){a.startProgress()}).on("hide.bs.modal",function(){a.stop()}),function(){c({method:"GET",url:"/js/data.json"}).success(function(b){a.dynamic=b.data.lightbox.start,a.finish=b.data.lightbox.finish,a.duration=b.data.lightbox.duration,a.max=parseInt(a.duration/a.interval),$("#myModal").modal("show")}).error(function(){})}()}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max,this.addBar=function(b,c){e||c.css({transition:"none"}),this.bars.push(b),b.$watch("max",function(b){a.max=b}),b.$watch("value",function(c){b.percent=+(100*c/a.max).toFixed(2),console.log(c+" "+b.percent+" "+a.max)}),b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}});
//# sourceMappingURL=app.min.js.map